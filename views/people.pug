extends layout

block content



  //defining employee types
  .page-header
    h1 employee types
    #myform
    form.form-horizontal(action='/people/employeetype', method='POST')
      input(type='hidden', name='_csrf', value=_csrf)
      br
      b Simple form with name and age ...
      br
      br
      |         Employee Type:
      input#name(type='text', name='employee_type_define', placeholder='Employee Type', autofocus='autofocus', required='required')
      br
      br
      .form-group
        .col-sm-offset-3.col-sm-7
          button.col-sm-3.btn.btn-primary(type='submit', value='Add') Add
    br
    br
    br
    br










  //defining shifts
  .page-header
    h1 shifts
    head
      script(type='text/javascript').
        function addRow() {
        //variables
          var myName = document.getElementById("name");
          var type = document.getElementById("type");
          var min_hours = document.getElementById("min_hours");
          var max_hours = document.getElementById("max_hours");
          var email = document.getElementById("email");
          var phone_number = document.getElementById("phone_number");
          var table = document.getElementById("myTableData");
          var rowCount = table.rows.length;
          var row = table.insertRow(rowCount);
          row.insertCell(0).innerHTML= myName.value;
          row.insertCell(1).innerHTML= type.value;
          row.insertCell(2).innerHTML= min_hours.value;
          row.insertCell(3).innerHTML= max_hours.value;
          row.insertCell(4).innerHTML= email.value;
          row.insertCell(5).innerHTML= phone_number.value;
          row.insertCell(6).innerHTML= '<input type="button" value = "Update" onClick="Javacsript:deleteRow(this)">';
          row.insertCell(7).innerHTML= '<input type="button" value = "Delete" onClick="Javacsript:deleteRow(this)">';
        }

        function deleteRow(obj) {
          var index = obj.parentNode.parentNode.rowIndex;
          var table = document.getElementById("myTableData");
          console.log("Hello World!!!");
          table.deleteRow(index);
        }

        //setting some global variables for updating shifts
        var var_employeetype
        var var_daysworked
        var var_num_employees
        var var_shift_start
        var var_shift_end


        function editRow(obj) {
          var currentTD = obj.parentNode.parentNode.rowIndex;
          var table = document.getElementById("myTableData");
          var row_length = document.getElementById("myTableData").rows[currentTD].cells.length;
          console.log(obj.parentNode);
          //the below is a way to get the HMTL within a cell
          console.log(document.getElementById("myTableData").rows[currentTD].cells[0].innerHTML);


          if (obj.value == 'Edit') {

            document.getElementById("myTableData").rows[currentTD].cells[0].setAttribute("contentEditable", true);
            document.getElementById("myTableData").rows[currentTD].cells[1].setAttribute("contentEditable", true);
            document.getElementById("myTableData").rows[currentTD].cells[2].setAttribute("contentEditable", true);
            document.getElementById("myTableData").rows[currentTD].cells[3].setAttribute("contentEditable", true);
            document.getElementById("myTableData").rows[currentTD].cells[4].setAttribute("contentEditable", true);
            document.getElementById("myTableData").rows[currentTD].cells[5].setAttribute("contentEditable", true);
            document.getElementById("myTableData").rows[currentTD].style.backgroundColor = "#A4D9F5";
            var_employeetype = document.getElementById("myTableData").rows[currentTD].cells[0].innerHTML
            var_daysworked = document.getElementById("myTableData").rows[currentTD].cells[1].innerHTML
            var_num_employees = document.getElementById("myTableData").rows[currentTD].cells[2].innerHTML
            var_shift_start = document.getElementById("myTableData").rows[currentTD].cells[3].innerHTML
            var_shift_start = document.getElementById("myTableData").rows[currentTD].cells[4].innerHTML
            var_shift_end = document.getElementById("myTableData").rows[currentTD].cells[5].innerHTML
            console.log(var_employeetype)
            obj.value = 'Save'

          } else {

            document.getElementById("myTableData").rows[currentTD].cells[0].setAttribute("contentEditable", false);
            document.getElementById("myTableData").rows[currentTD].cells[1].setAttribute("contentEditable", false);
            document.getElementById("myTableData").rows[currentTD].cells[2].setAttribute("contentEditable", false);
            document.getElementById("myTableData").rows[currentTD].cells[3].setAttribute("contentEditable", false);
            document.getElementById("myTableData").rows[currentTD].cells[4].setAttribute("contentEditable", false);
            document.getElementById("myTableData").rows[currentTD].cells[5].setAttribute("contentEditable", false);
            document.getElementById("myTableData").rows[currentTD].style.backgroundColor = "#FFFFFF"
            obj.value = 'Edit'
            location.href = '/people/updateshift'

          }

        }


    #myform
    form.form-horizontal(action='/people/shift', method='POST')
      input(type='hidden', name='_csrf', value=_csrf)
      br
      b Simple form with name and age ...
      br
      br
      |         Employee Type:
      input#name(type='text', name='employee_type', placeholder='Employee Type', autofocus='autofocus', required='required')
      br
      br
      |         Days of week worked:
      br
      br
      |         Monday:
      input#type(type='checkbox', name='days_week_worked', value = 'Monday', autofocus='autofocus')
      |         Tuesday:
      input#type(type='checkbox', name='days_week_worked', value = 'Tuesday', autofocus='autofocus', )
      |         Wednesday:
      input#type(type='checkbox', name='days_week_worked', value = 'Wednesday', autofocus='autofocus')
      |         Thursday:
      input#type(type='checkbox', name='days_week_worked',  value = 'Thursday', autofocus='autofocus')
      |         Friday:
      input#type(type='checkbox', name='days_week_worked', value = 'Friday', autofocus='autofocus')
      |         Saturday:
      input#type(type='checkbox', name='days_week_worked', value = 'Saturday', autofocus='autofocus')
      |         Sunday:
      input#type(type='checkbox', name='days_week_worked', value = 'Sunday', autofocus='autofocus')
      br
      br
      |         Number of employees needed:
      input#min_hours(type='number', name='num_employees', placeholder='# of Employees', autofocus='autofocus', required='required')
      br
      br
      |         Shift start:
      input#max_hours(type='text', name='start_time', placeholder='12:00', autofocus='autofocus', required='required')
      br
      br
      |         Shift end time:
      input#email(type='text', name='end_time', placeholder='12:00', autofocus='autofocus', required='required')
      br
      br

      .form-group
        .col-sm-offset-3.col-sm-7
          button.col-sm-3.btn.btn-primary(type='submit', value='Add') Add
    br
    br
    br
    #mydata
      b Current data in the system ...
      table#myTableData(border='1', cellpadding='2')
        tr
          th
            b Employee type
          th
            b Days worked
          th
            b Number of employees
          th
            b Shift start
          th
            b Shift end
          th
            b Update
          th
            b Delete

        each shf in shift

          // build a new table row
          tr

            // insert table data
            td #{shf.employee_type}

            td #{shf.days_worked}
            td #{shf.num_employees}
            td #{shf.shift_start_time}
            td #{shf.shift_end_time}

            // add the update and delete buttons
            td
              input(type="button" name = "Edit" value = "Edit" onClick="Javacsript:editRow(this)")
            td
              input(type="button" value = "Delete" onClick="Javacsript:deleteRow(this)")

            // move to next person in the people array ...





    br
    br










  .page-header
    h1 people

    head
      script(type='text/javascript').
        function addRow1() {
        //variables
          var myName = document.getElementById("name");
          var type = document.getElementById("type");
          var min_hours = document.getElementById("min_hours");
          var max_hours = document.getElementById("max_hours");
          var email = document.getElementById("email");
          var phone_number = document.getElementById("phone_number");
          var table = document.getElementById("myTableData1");
          var rowCount = table.rows.length;
          var row = table.insertRow(rowCount);
          row.insertCell(0).innerHTML= myName.value;
          row.insertCell(1).innerHTML= type.value;
          row.insertCell(2).innerHTML= min_hours.value;
          row.insertCell(3).innerHTML= max_hours.value;
          row.insertCell(4).innerHTML= email.value;
          row.insertCell(5).innerHTML= phone_number.value;
          row.insertCell(6).innerHTML= '<input type="button" value = "Update" onClick="Javacsript:deleteRow(this)">';
          row.insertCell(7).innerHTML= '<input type="button" value = "Delete" onClick="Javacsript:deleteRow(this)">';
        }

        function deleteRow1(obj) {
          var index = obj.parentNode.parentNode.rowIndex;
          var table = document.getElementById("myTableData1");
          console.log("Hello World!!!");
          table.deleteRow(index);
        }

        function editRow1(obj) {
          var currentTD = obj.parentNode.parentNode.rowIndex;
          var table = document.getElementById("myTableData1");
          var row_length = document.getElementById("myTableData1").rows[currentTD].cells.length;
          console.log(obj.parentNode);

          if (obj.value == 'Edit') {
            document.getElementById("myTableData1").rows[currentTD].cells[0].setAttribute("contentEditable", true);
            document.getElementById("myTableData1").rows[currentTD].cells[1].setAttribute("contentEditable", true);
            document.getElementById("myTableData1").rows[currentTD].cells[2].setAttribute("contentEditable", true);
            document.getElementById("myTableData1").rows[currentTD].cells[3].setAttribute("contentEditable", true);
            document.getElementById("myTableData1").rows[currentTD].cells[4].setAttribute("contentEditable", true);
            document.getElementById("myTableData1").rows[currentTD].cells[5].setAttribute("contentEditable", true);

            document.getElementById("myTableData1").rows[currentTD].style.backgroundColor = "#A4D9F5";

            obj.value = 'Save'
          } else {
            document.getElementById("myTableData1").rows[currentTD].cells[0].setAttribute("contentEditable", false);
            document.getElementById("myTableData1").rows[currentTD].cells[1].setAttribute("contentEditable", false);
            document.getElementById("myTableData1").rows[currentTD].cells[2].setAttribute("contentEditable", false);
            document.getElementById("myTableData1").rows[currentTD].cells[3].setAttribute("contentEditable", false);
            document.getElementById("myTableData1").rows[currentTD].cells[4].setAttribute("contentEditable", false);
            document.getElementById("myTableData1").rows[currentTD].cells[5].setAttribute("contentEditable", false);
            document.getElementById("myTableData1").rows[currentTD].style.backgroundColor = "#FFFFFF"
            obj.value = 'Edit'
          }

        }

    #myform
    form.form-horizontal(action='/people/people', method='POST')
      input(type='hidden', name='_csrf', value=_csrf)
      br
      b Simple form with name and age ...
      br
      br
      |         Name:
      input#name(type='text', name='name', placeholder='Name', autofocus='autofocus', required='required')
      br
      br
      |         Type:
      input#type(type='text', name='type', placeholder='Employee Type', autofocus='autofocus', required='required')
      br
      br
      |         Min Hours:
      input#min_hours(type='number', name='min_hours', placeholder='Min hours required', autofocus='autofocus', required='required')
      br
      br
      |         Max Hours:
      input#max_hours(type='number', name='max_hours', placeholder='Max hours required', autofocus='autofocus', required='required')
      br
      br
      |         Email:
      input#email(type='email', name='email', placeholder='Email', autofocus='autofocus', required='required')
      br
      br
      |         Phone Number:
      input#phone_number(type='text', name='phone_number', placeholder='Phone Number', autofocus='autofocus', required='required')
      br
      .form-group
        .col-sm-offset-3.col-sm-7
          button.col-sm-3.btn.btn-primary(type='submit', value='Add', onclick='addRow1()') Add
    br
    br
    #mydata
      b Current employee data!
      table#myTableData1(border='1', cellpadding='2')
        tr
          th
            b Name
          th
            b Type
          th
            b Min Hours
          th
            b Max Hours
          th
            b Email
          th
            b Phone Number
          th
            b Update
          th
            b Delete

        each person in people

          // build a new table row
          tr

            // insert table data
            td #{person.name}
            td #{person.type}
            td #{person.min_hours}
            td #{person.max_hours}
            td #{person.email}
            td #{person.phone_number}

            // add the update and delete buttons
            td
                  input(type="button" name = "Edit" value = "Edit" onClick="Javacsript:editRow1(this)")
            td
              input(type="button" value = "Delete" onClick="Javacsript:deleteRow1(this)")

            // move to next person in the people array ...


      br
      br
